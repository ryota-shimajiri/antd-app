{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useSafeState;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n/**\n * Same as React.useState but `setState` accept `ignoreDestroy` param to not to setState after destroyed.\n * We do not make this auto is to avoid real memory leak.\n * Developer should confirm it's safe to ignore themselves.\n */\n\n\nfunction useSafeState(defaultValue) {\n  var destroyRef = React.useRef(false);\n\n  var _React$useState = React.useState(defaultValue),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      value = _React$useState2[0],\n      setValue = _React$useState2[1];\n\n  React.useEffect(function () {\n    destroyRef.current = false;\n    return function () {\n      destroyRef.current = true;\n    };\n  }, []);\n\n  function safeSetState(updater, ignoreDestroy) {\n    if (ignoreDestroy && destroyRef.current) {\n      return;\n    }\n\n    setValue(updater);\n  }\n\n  return [value, safeSetState];\n}","map":{"version":3,"names":["_interopRequireWildcard","require","default","_interopRequireDefault","Object","defineProperty","exports","value","useSafeState","_slicedToArray2","React","defaultValue","destroyRef","useRef","_React$useState","useState","_React$useState2","setValue","useEffect","current","safeSetState","updater","ignoreDestroy"],"sources":["/Users/shimajiri/develop/antd_test/antd-app/node_modules/rc-util/lib/hooks/useState.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useSafeState;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\n/**\n * Same as React.useState but `setState` accept `ignoreDestroy` param to not to setState after destroyed.\n * We do not make this auto is to avoid real memory leak.\n * Developer should confirm it's safe to ignore themselves.\n */\nfunction useSafeState(defaultValue) {\n  var destroyRef = React.useRef(false);\n\n  var _React$useState = React.useState(defaultValue),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      value = _React$useState2[0],\n      setValue = _React$useState2[1];\n\n  React.useEffect(function () {\n    destroyRef.current = false;\n    return function () {\n      destroyRef.current = true;\n    };\n  }, []);\n\n  function safeSetState(updater, ignoreDestroy) {\n    if (ignoreDestroy && destroyRef.current) {\n      return;\n    }\n\n    setValue(updater);\n  }\n\n  return [value, safeSetState];\n}"],"mappings":"AAAA;;AAEA,IAAIA,uBAAuB,GAAGC,OAAO,CAAC,+CAAD,CAAP,CAAyDC,OAAvF;;AAEA,IAAIC,sBAAsB,GAAGF,OAAO,CAAC,8CAAD,CAAP,CAAwDC,OAArF;;AAEAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAC3CC,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACJ,OAAR,GAAkBM,YAAlB;;AAEA,IAAIC,eAAe,GAAGN,sBAAsB,CAACF,OAAO,CAAC,sCAAD,CAAR,CAA5C;;AAEA,IAAIS,KAAK,GAAGV,uBAAuB,CAACC,OAAO,CAAC,OAAD,CAAR,CAAnC;AAEA;AACA;AACA;AACA;AACA;;;AACA,SAASO,YAAT,CAAsBG,YAAtB,EAAoC;EAClC,IAAIC,UAAU,GAAGF,KAAK,CAACG,MAAN,CAAa,KAAb,CAAjB;;EAEA,IAAIC,eAAe,GAAGJ,KAAK,CAACK,QAAN,CAAeJ,YAAf,CAAtB;EAAA,IACIK,gBAAgB,GAAG,CAAC,GAAGP,eAAe,CAACP,OAApB,EAA6BY,eAA7B,EAA8C,CAA9C,CADvB;EAAA,IAEIP,KAAK,GAAGS,gBAAgB,CAAC,CAAD,CAF5B;EAAA,IAGIC,QAAQ,GAAGD,gBAAgB,CAAC,CAAD,CAH/B;;EAKAN,KAAK,CAACQ,SAAN,CAAgB,YAAY;IAC1BN,UAAU,CAACO,OAAX,GAAqB,KAArB;IACA,OAAO,YAAY;MACjBP,UAAU,CAACO,OAAX,GAAqB,IAArB;IACD,CAFD;EAGD,CALD,EAKG,EALH;;EAOA,SAASC,YAAT,CAAsBC,OAAtB,EAA+BC,aAA/B,EAA8C;IAC5C,IAAIA,aAAa,IAAIV,UAAU,CAACO,OAAhC,EAAyC;MACvC;IACD;;IAEDF,QAAQ,CAACI,OAAD,CAAR;EACD;;EAED,OAAO,CAACd,KAAD,EAAQa,YAAR,CAAP;AACD"},"metadata":{},"sourceType":"script"}