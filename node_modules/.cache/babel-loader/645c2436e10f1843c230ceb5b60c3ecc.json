{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _EnterOutlined = _interopRequireDefault(require(\"@ant-design/icons/EnterOutlined\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _KeyCode = _interopRequireDefault(require(\"rc-util/lib/KeyCode\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _TextArea = _interopRequireDefault(require(\"../input/TextArea\"));\n\nvar _reactNode = require(\"../_util/reactNode\");\n\nvar Editable = function Editable(_ref) {\n  var prefixCls = _ref.prefixCls,\n      ariaLabel = _ref['aria-label'],\n      className = _ref.className,\n      style = _ref.style,\n      direction = _ref.direction,\n      maxLength = _ref.maxLength,\n      _ref$autoSize = _ref.autoSize,\n      autoSize = _ref$autoSize === void 0 ? true : _ref$autoSize,\n      value = _ref.value,\n      onSave = _ref.onSave,\n      onCancel = _ref.onCancel,\n      onEnd = _ref.onEnd,\n      component = _ref.component,\n      _ref$enterIcon = _ref.enterIcon,\n      enterIcon = _ref$enterIcon === void 0 ? /*#__PURE__*/React.createElement(_EnterOutlined[\"default\"], null) : _ref$enterIcon;\n  var ref = React.useRef();\n  var inComposition = React.useRef(false);\n  var lastKeyCode = React.useRef();\n\n  var _React$useState = React.useState(value),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      current = _React$useState2[0],\n      setCurrent = _React$useState2[1];\n\n  React.useEffect(function () {\n    setCurrent(value);\n  }, [value]);\n  React.useEffect(function () {\n    if (ref.current && ref.current.resizableTextArea) {\n      var textArea = ref.current.resizableTextArea.textArea;\n      textArea.focus();\n      var length = textArea.value.length;\n      textArea.setSelectionRange(length, length);\n    }\n  }, []);\n\n  var onChange = function onChange(_ref2) {\n    var target = _ref2.target;\n    setCurrent(target.value.replace(/[\\n\\r]/g, ''));\n  };\n\n  var onCompositionStart = function onCompositionStart() {\n    inComposition.current = true;\n  };\n\n  var onCompositionEnd = function onCompositionEnd() {\n    inComposition.current = false;\n  };\n\n  var onKeyDown = function onKeyDown(_ref3) {\n    var keyCode = _ref3.keyCode; // We don't record keyCode when IME is using\n\n    if (inComposition.current) return;\n    lastKeyCode.current = keyCode;\n  };\n\n  var confirmChange = function confirmChange() {\n    onSave(current.trim());\n  };\n\n  var onKeyUp = function onKeyUp(_ref4) {\n    var keyCode = _ref4.keyCode,\n        ctrlKey = _ref4.ctrlKey,\n        altKey = _ref4.altKey,\n        metaKey = _ref4.metaKey,\n        shiftKey = _ref4.shiftKey; // Check if it's a real key\n\n    if (lastKeyCode.current === keyCode && !inComposition.current && !ctrlKey && !altKey && !metaKey && !shiftKey) {\n      if (keyCode === _KeyCode[\"default\"].ENTER) {\n        confirmChange();\n        onEnd === null || onEnd === void 0 ? void 0 : onEnd();\n      } else if (keyCode === _KeyCode[\"default\"].ESC) {\n        onCancel();\n      }\n    }\n  };\n\n  var onBlur = function onBlur() {\n    confirmChange();\n  };\n\n  var textClassName = component ? \"\".concat(prefixCls, \"-\").concat(component) : '';\n  var textAreaClassName = (0, _classnames[\"default\"])(prefixCls, \"\".concat(prefixCls, \"-edit-content\"), (0, _defineProperty2[\"default\"])({}, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), className, textClassName);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: textAreaClassName,\n    style: style\n  }, /*#__PURE__*/React.createElement(_TextArea[\"default\"], {\n    ref: ref,\n    maxLength: maxLength,\n    value: current,\n    onChange: onChange,\n    onKeyDown: onKeyDown,\n    onKeyUp: onKeyUp,\n    onCompositionStart: onCompositionStart,\n    onCompositionEnd: onCompositionEnd,\n    onBlur: onBlur,\n    \"aria-label\": ariaLabel,\n    rows: 1,\n    autoSize: autoSize\n  }), enterIcon !== null ? (0, _reactNode.cloneElement)(enterIcon, {\n    className: \"\".concat(prefixCls, \"-edit-content-confirm\")\n  }) : null);\n};\n\nvar _default = Editable;\nexports[\"default\"] = _default;","map":{"version":3,"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_defineProperty2","_slicedToArray2","_EnterOutlined","_classnames","_KeyCode","React","_TextArea","_reactNode","Editable","_ref","prefixCls","ariaLabel","className","style","direction","maxLength","_ref$autoSize","autoSize","onSave","onCancel","onEnd","component","_ref$enterIcon","enterIcon","createElement","ref","useRef","inComposition","lastKeyCode","_React$useState","useState","_React$useState2","current","setCurrent","useEffect","resizableTextArea","textArea","focus","length","setSelectionRange","onChange","_ref2","target","replace","onCompositionStart","onCompositionEnd","onKeyDown","_ref3","keyCode","confirmChange","trim","onKeyUp","_ref4","ctrlKey","altKey","metaKey","shiftKey","ENTER","ESC","onBlur","textClassName","concat","textAreaClassName","rows","cloneElement","_default"],"sources":["/Users/shimajiri/develop/antd_test/antd-app/node_modules/antd/lib/typography/Editable.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _EnterOutlined = _interopRequireDefault(require(\"@ant-design/icons/EnterOutlined\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _KeyCode = _interopRequireDefault(require(\"rc-util/lib/KeyCode\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _TextArea = _interopRequireDefault(require(\"../input/TextArea\"));\n\nvar _reactNode = require(\"../_util/reactNode\");\n\nvar Editable = function Editable(_ref) {\n  var prefixCls = _ref.prefixCls,\n      ariaLabel = _ref['aria-label'],\n      className = _ref.className,\n      style = _ref.style,\n      direction = _ref.direction,\n      maxLength = _ref.maxLength,\n      _ref$autoSize = _ref.autoSize,\n      autoSize = _ref$autoSize === void 0 ? true : _ref$autoSize,\n      value = _ref.value,\n      onSave = _ref.onSave,\n      onCancel = _ref.onCancel,\n      onEnd = _ref.onEnd,\n      component = _ref.component,\n      _ref$enterIcon = _ref.enterIcon,\n      enterIcon = _ref$enterIcon === void 0 ? /*#__PURE__*/React.createElement(_EnterOutlined[\"default\"], null) : _ref$enterIcon;\n  var ref = React.useRef();\n  var inComposition = React.useRef(false);\n  var lastKeyCode = React.useRef();\n\n  var _React$useState = React.useState(value),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      current = _React$useState2[0],\n      setCurrent = _React$useState2[1];\n\n  React.useEffect(function () {\n    setCurrent(value);\n  }, [value]);\n  React.useEffect(function () {\n    if (ref.current && ref.current.resizableTextArea) {\n      var textArea = ref.current.resizableTextArea.textArea;\n      textArea.focus();\n      var length = textArea.value.length;\n      textArea.setSelectionRange(length, length);\n    }\n  }, []);\n\n  var onChange = function onChange(_ref2) {\n    var target = _ref2.target;\n    setCurrent(target.value.replace(/[\\n\\r]/g, ''));\n  };\n\n  var onCompositionStart = function onCompositionStart() {\n    inComposition.current = true;\n  };\n\n  var onCompositionEnd = function onCompositionEnd() {\n    inComposition.current = false;\n  };\n\n  var onKeyDown = function onKeyDown(_ref3) {\n    var keyCode = _ref3.keyCode;\n    // We don't record keyCode when IME is using\n    if (inComposition.current) return;\n    lastKeyCode.current = keyCode;\n  };\n\n  var confirmChange = function confirmChange() {\n    onSave(current.trim());\n  };\n\n  var onKeyUp = function onKeyUp(_ref4) {\n    var keyCode = _ref4.keyCode,\n        ctrlKey = _ref4.ctrlKey,\n        altKey = _ref4.altKey,\n        metaKey = _ref4.metaKey,\n        shiftKey = _ref4.shiftKey;\n\n    // Check if it's a real key\n    if (lastKeyCode.current === keyCode && !inComposition.current && !ctrlKey && !altKey && !metaKey && !shiftKey) {\n      if (keyCode === _KeyCode[\"default\"].ENTER) {\n        confirmChange();\n        onEnd === null || onEnd === void 0 ? void 0 : onEnd();\n      } else if (keyCode === _KeyCode[\"default\"].ESC) {\n        onCancel();\n      }\n    }\n  };\n\n  var onBlur = function onBlur() {\n    confirmChange();\n  };\n\n  var textClassName = component ? \"\".concat(prefixCls, \"-\").concat(component) : '';\n  var textAreaClassName = (0, _classnames[\"default\"])(prefixCls, \"\".concat(prefixCls, \"-edit-content\"), (0, _defineProperty2[\"default\"])({}, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), className, textClassName);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: textAreaClassName,\n    style: style\n  }, /*#__PURE__*/React.createElement(_TextArea[\"default\"], {\n    ref: ref,\n    maxLength: maxLength,\n    value: current,\n    onChange: onChange,\n    onKeyDown: onKeyDown,\n    onKeyUp: onKeyUp,\n    onCompositionStart: onCompositionStart,\n    onCompositionEnd: onCompositionEnd,\n    onBlur: onBlur,\n    \"aria-label\": ariaLabel,\n    rows: 1,\n    autoSize: autoSize\n  }), enterIcon !== null ? (0, _reactNode.cloneElement)(enterIcon, {\n    className: \"\".concat(prefixCls, \"-edit-content-confirm\")\n  }) : null);\n};\n\nvar _default = Editable;\nexports[\"default\"] = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}